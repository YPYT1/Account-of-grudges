### **ã€‡ã€å…¨å±€APIçº¦å®šä¸é€šç”¨å“åº”æ ¼å¼**

æœ¬éƒ¨åˆ†å®šä¹‰äº†æ‰€æœ‰APIäº¤äº’çš„åŸºç¡€è§„åˆ™ã€‚æ‰€æœ‰APIéƒ½å¿…é¡»éµå¾ªä»¥ä¸‹å“åº”ç»“æ„å’ŒçŠ¶æ€ç çº¦å®šã€‚

#### **1. é€šç”¨å“åº”ç»“æ„**

æ‰€æœ‰APIçš„å“åº”éƒ½å°†åŒ…è£¹åœ¨ä»¥ä¸‹JSONç»“æ„ä¸­ï¼š

```json
{
  "code": 200,          // number: ä¸šåŠ¡çŠ¶æ€ç ï¼Œè§ä¸‹æ–‡å®šä¹‰
  "message": "Success", // string: å¯¹æœ¬æ¬¡å“åº”çš„æ–‡æœ¬æè¿°
  "data": { ... }       // object | array | null: æ ¸å¿ƒå“åº”æ•°æ®
}
```

#### **2. æˆåŠŸå“åº”**

*   **`GET`, `PUT`, `DELETE`**: æˆåŠŸçš„å“åº” `code` ä¸º `200`ã€‚
*   **`POST` (åˆ›å»ºæ–°èµ„æº)**: æˆåŠŸçš„å“åº” `code` ä¸º `201`ã€‚

#### **3. å¤±è´¥å“åº”**

æ‰€æœ‰å¤±è´¥çš„å“åº”ï¼Œ`data` å­—æ®µå‡ä¸º `null`ã€‚å‰ç«¯åº”é€šè¿‡ `code` å­—æ®µæ¥åˆ¤æ–­é”™è¯¯çš„å…·ä½“ç±»å‹ã€‚

#### **4. é€šç”¨ä¸šåŠ¡çŠ¶æ€ç  (Code) å®šä¹‰**

| Code | HTTPçŠ¶æ€(å‚è€ƒ) | å«ä¹‰             | æè¿°ä¸å‰ç«¯å¤„ç†å»ºè®®                                                                               |
| :--- | :------------- | :--------------- | :----------------------------------------------------------------------------------------------- |
| `200`  | 200 OK         | **è¯·æ±‚æˆåŠŸ**       | é€šç”¨çš„æˆåŠŸçŠ¶æ€ã€‚                                                                                 |
| `201`  | 201 Created    | **åˆ›å»ºæˆåŠŸ**       | åœ¨é€šè¿‡ `POST` è¯·æ±‚æˆåŠŸåˆ›å»ºä¸€ä¸ªæ–°èµ„æºï¼ˆå¦‚æ–°å¸–å­ã€æ–°ç•™è¨€ï¼‰æ—¶è¿”å›ã€‚                                   |
| `400`  | 400 Bad Request| **è¯·æ±‚å‚æ•°é”™è¯¯**   | é€šå¸¸ç”±å®¢æˆ·ç«¯è¯·æ±‚çš„å‚æ•°ä¸ç¬¦åˆåç«¯è¦æ±‚å¯¼è‡´ï¼Œä¾‹å¦‚å­—æ®µç¼ºå¤±ã€æ ¼å¼é”™è¯¯ã€‚å‰ç«¯åº”æç¤ºç”¨æˆ·ä¿®æ”¹è¾“å…¥ã€‚       |
| `401`  | 401 Unauthorized| **éœ€è¦è®¤è¯**       | ç”¨æˆ·æœªç™»å½•æˆ–Tokenå·²å¤±æ•ˆã€‚å‰ç«¯åº”æ‹¦æˆªæ­¤å“åº”ï¼Œæ¸…é™¤æœ¬åœ°ç™»å½•çŠ¶æ€ï¼Œå¹¶é‡å®šå‘åˆ°ç™»å½•é¡µé¢ã€‚                |
| `403`  | 403 Forbidden  | **æƒé™ä¸è¶³**       | ç”¨æˆ·å·²ç™»å½•ï¼Œä½†æ— æƒè®¿é—®è¯¥èµ„æºï¼ˆä¾‹å¦‚æ™®é€šç”¨æˆ·å°è¯•åˆ é™¤ä»–äººå¸–å­ï¼‰ã€‚å‰ç«¯åº”ç»™å‡º"æ— æƒæ“ä½œ"çš„æç¤ºã€‚       |
| `404`  | 404 Not Found  | **èµ„æºä¸å­˜åœ¨**     | è¯·æ±‚çš„èµ„æºï¼ˆå¦‚æŸä¸ªç‰¹å®šIDçš„å¸–å­ï¼‰åœ¨æ•°æ®åº“ä¸­ä¸å­˜åœ¨ã€‚å‰ç«¯åº”æ˜¾ç¤º"å†…å®¹ä¸å­˜åœ¨"æˆ–"å·²è¢«åˆ é™¤"çš„ç•Œé¢ã€‚ |
| `500`  | 500 Server Error| **æœåŠ¡å™¨å†…éƒ¨é”™è¯¯** | åç«¯æœåŠ¡å™¨å‘ç”ŸæœªçŸ¥é”™è¯¯ã€‚è¿™æ˜¯ä¸€ä¸ªé€šç”¨é”™è¯¯ï¼Œå‰ç«¯åº”å‘ç”¨æˆ·æ˜¾ç¤ºä¸€ä¸ªå‹å¥½çš„"æœåŠ¡å¼€å°å·®äº†ï¼Œè¯·ç¨åå†è¯•"æç¤ºã€‚ |

---

### **é€šç”¨å¤±è´¥å“åº”ç¤ºä¾‹**

**`400 Bad Request` - è¯·æ±‚ä½“éªŒè¯å¤±è´¥**
```json
{
  "code": 400,
  "message": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥ã€‚",
  "data": null,
  "errors": {
    "description": "å†…å®¹æè¿°ä¸èƒ½ä¸ºç©ºã€‚",
    "event_date": "äº‹ä»¶æ—¥æœŸæ ¼å¼ä¸æ­£ç¡®ï¼Œåº”ä¸º YYYY-MM-DDã€‚"
  }
}
```

**`401 Unauthorized` - æœªç™»å½•æˆ–Tokenå¤±æ•ˆ**
```json
{
  "code": 401,
  "message": "ç”¨æˆ·æœªè®¤è¯æˆ–è®¤è¯å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•ã€‚",
  "data": null
}
```

**`403 Forbidden` - æ— æƒæ“ä½œ**
```json
{
  "code": 403,
  "message": "æ‚¨æ²¡æœ‰æƒé™æ‰§è¡Œæ­¤æ“ä½œã€‚",
  "data": null
}
```

**`404 Not Found` - èµ„æºæœªæ‰¾åˆ°**
```json
{
  "code": 404,
  "message": "æ‚¨è¦æŸ¥æ‰¾çš„èµ„æºä¸å­˜åœ¨ã€‚",
  "data": null
}
```

**`500 Internal Server Error` - æœåŠ¡å™¨å†…éƒ¨é”™è¯¯**
```json
{
  "code": 500,
  "message": "æœåŠ¡å™¨å‘ç”ŸæœªçŸ¥é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•æˆ–è”ç³»ç®¡ç†å‘˜ã€‚",
  "data": null
}
```

---

### **æœ€ç»ˆã€å®Œæ•´ã€æ— åˆ å‡ç‰ˆ Â· è¶…è¯¦ç»†å…¨åŠŸèƒ½ Mock æ•°æ® API å¥‘çº¦**

---

### **ç¬¬ä¸€éƒ¨åˆ†ï¼šåº”ç”¨æ¡†æ¶ã€è®¤è¯ä¸ä¼šå‘˜ç³»ç»Ÿ API**

#### **1. `GET /api/me` - è·å–å½“å‰ä¼šè¯ä¿¡æ¯**
**ç”¨é€”**: åº”ç”¨å¯åŠ¨æ—¶å¿…é¡»è°ƒç”¨çš„ç¬¬ä¸€ä¸ªã€ä¹Ÿæ˜¯æœ€é‡è¦çš„æ¥å£ã€‚å®ƒçš„å“åº”å†³å®šäº†ç”¨æˆ·çœ‹åˆ°çš„æ˜¯åº”ç”¨ä¸»ç•Œé¢ã€ç»‘å®šç•Œé¢è¿˜æ˜¯æ”¯ä»˜å¼¹çª—ã€‚

**åœºæ™¯ 1.1ï¼šç®¡ç†å‘˜ç”¨æˆ·**
```json
{
  "code": 200,
  "message": "Session info for an admin retrieved successfully.",
  "data": {
    "access_status": "ADMIN",
    "currentUser": {
      "id": "a1b2c3d4-0001-4001-8001-0123456789ab",
      "openid": "openid-for-admin-user-01",
      "nickname": "é˜¿æ¶› (ç®¡ç†å‘˜)",
      "avatar_url": "https://randomuser.me/api/portraits/men/32.jpg",
      "display_gender": "male",
      "bio": "ç³»ç»Ÿçš„å®ˆæŠ¤è€…ï¼Œå¶å°”ä¹Ÿè®°å½•ç”Ÿæ´»ã€‚",
      "status": "active",
      "is_admin": true,
      "preferences": {
        "notifications": {
          "new_event_push": true,
          "event_resolved_push": true,
          "new_message_push": false
        },
        "theme": "dark"
      },
      "last_login_at": "2023-10-27T10:00:00Z",
      "created_at": "2023-01-15T12:00:00Z"
    },
    "partner": {
      "id": "a1b2c3d4-0002-4002-8002-fedcba987654",
      "nickname": "å°æœˆ",
      "avatar_url": "https://randomuser.me/api/portraits/women/44.jpg",
      "display_gender": "female",
      "bio": "çˆ±ç”»ç”»ï¼Œçˆ±æ—…è¡Œï¼Œä¹Ÿçˆ±èº«è¾¹çš„ç®¡ç†å‘˜å…ˆç”Ÿã€‚"
    },
    "coupleInfo": {
      "id": "c1p2l3e4-0001-4001-8001-abcdef123456",
      "anniversary_date": "2020-01-01",
      "trial_ends_at": null,
      "subscription_expires_at": null
    }
  }
}
```

**åœºæ™¯ 1.2ï¼šä»˜è´¹è®¢é˜…ç”Ÿæ•ˆä¸­çš„ç”¨æˆ·**
```json
{
  "code": 200,
  "message": "Session info for a subscribed user retrieved successfully.",
  "data": {
    "access_status": "FULL_ACCESS",
    "currentUser": {
      "id": "b2c3d4e5-0003-4003-8003-112233445566",
      "openid": "openid-for-paid-user-03",
      "nickname": "ä»˜è´¹ç”¨æˆ·A",
      "avatar_url": "https://randomuser.me/api/portraits/women/68.jpg",
      "display_gender": "female",
      "bio": "äº«å—æ¯ä¸€åˆ»çš„ç”œèœœè®°å½•ã€‚",
      "status": "active",
      "is_admin": false,
      "preferences": {
        "notifications": {
          "new_event_push": true,
          "event_resolved_push": true,
          "new_message_push": true
        },
        "theme": "light"
      },
      "last_login_at": "2023-10-26T18:30:00Z",
      "created_at": "2022-08-01T11:00:00Z"
    },
    "partner": {
      "id": "b2c3d4e5-0004-4004-8004-aabbccddeeff",
      "nickname": "ä»˜è´¹ç”¨æˆ·B",
      "avatar_url": "https://randomuser.me/api/portraits/men/68.jpg",
      "display_gender": "male",
      "bio": "ä¸ºæˆ‘ä»¬çš„çˆ±æŠ•èµ„ï¼Œå€¼å¾—ã€‚"
    },
    "coupleInfo": {
      "id": "c1p2l3e4-0002-4002-8002-654321fedcba",
      "anniversary_date": "2022-08-08",
      "trial_ends_at": "2022-09-08T12:00:00Z",
      "subscription_expires_at": "2024-09-08T12:00:00Z"
    }
  }
}
```

**åœºæ™¯ 1.3ï¼šå…è´¹è¯•ç”¨æœŸå†…çš„ç”¨æˆ·**
```json
{
  "code": 200,
  "message": "Session info for a user in trial period retrieved successfully.",
  "data": {
    "access_status": "TRIAL",
    "currentUser": {
      "id": "c3d4e5f6-0005-4005-8005-abcdefabcdef",
      "openid": "openid-for-trial-user-05",
      "nickname": "è¯•ç”¨ç”¨æˆ·A",
      "avatar_url": "https://randomuser.me/api/portraits/men/50.jpg",
      "display_gender": "male",
      "bio": "æ­£åœ¨ä½“éªŒè¿™ä¸ªç¥å¥‡çš„å°ç¨‹åºï¼",
      "status": "active",
      "is_admin": false,
      "preferences": {
        "notifications": {
          "new_event_push": true,
          "event_resolved_push": false,
          "new_message_push": true
        },
        "theme": "system"
      },
      "last_login_at": "2023-10-27T14:00:00Z",
      "created_at": "2023-10-15T18:30:00Z"
    },
    "partner": {
      "id": "c3d4e5f6-0006-4006-8006-fedcbafedcba",
      "nickname": "è¯•ç”¨ç”¨æˆ·B",
      "avatar_url": "https://randomuser.me/api/portraits/women/50.jpg",
      "display_gender": "female",
      "bio": "è¯•ç”¨æœŸæ„Ÿè§‰ä¸é”™å“¦ã€‚"
    },
    "coupleInfo": {
      "id": "c1p2l3e4-0003-4003-8003-789789789789",
      "anniversary_date": "2023-10-15",
      "trial_ends_at": "2023-11-15T18:30:00Z",
      "subscription_expires_at": null
    }
  }
}
```

**åœºæ™¯ 1.4ï¼šè®¢é˜…/è¯•ç”¨å·²åˆ°æœŸçš„ç”¨æˆ· (éœ€è¦å¼¹çª—)**
```json
{
  "code": 200,
  "message": "Access expired. Subscription required.",
  "data": {
    "access_status": "EXPIRED",
    "currentUser": {
      "id": "d4e5f6g7-0007-4007-8007-778899aabbcc",
      "openid": "openid-for-expired-user-07",
      "nickname": "è¿‡æœŸç”¨æˆ·A",
      "avatar_url": "https://randomuser.me/api/portraits/women/25.jpg",
      "display_gender": "female",
      "bio": "æˆ‘ä»¬çš„ç”œèœœæ—¶å…‰éœ€è¦ç»­è´¹å•¦...",
      "status": "active",
      "is_admin": false,
      "preferences": {
        "notifications": {
          "new_event_push": true,
          "event_resolved_push": true,
          "new_message_push": true
        },
        "theme": "light"
      },
      "last_login_at": "2023-10-27T14:10:00Z",
      "created_at": "2021-03-14T10:00:00Z"
    },
    "partner": {
      "id": "d4e5f6g7-0008-4008-8008-ccddeeff0011",
      "nickname": "è¿‡æœŸç”¨æˆ·B",
      "avatar_url": "https://randomuser.me/api/portraits/men/25.jpg",
      "display_gender": "male",
      "bio": "æ˜¯æ—¶å€™å……å€¼ä¿¡ä»°äº†ã€‚"
    },
    "coupleInfo": {
      "id": "c1p2l3e4-0004-4004-8004-101101101101",
      "anniversary_date": "2021-03-14",
      "trial_ends_at": "2021-04-14T10:00:00Z",
      "subscription_expires_at": "2022-04-14T10:00:00Z"
    }
  }
}
```

**åœºæ™¯ 1.5ï¼šæœªç»‘å®šæƒ…ä¾£çš„ç”¨æˆ·**
```json
{
  "code": 200,
  "message": "User is not bound to a couple.",
  "data": {
    "access_status": "UNBOUND",
    "currentUser": {
      "id": "e5f6g7h8-0009-4009-8009-1a2b3c4d5e6f",
      "openid": "openid-for-single-user-09",
      "nickname": "å•èº«è´µæ—C",
      "avatar_url": "https://randomuser.me/api/portraits/lego/1.jpg",
      "display_gender": "male",
      "bio": "å¯»æ‰¾æˆ‘çš„å¦ä¸€åŠã€‚",
      "status": "active",
      "is_admin": false,
      "preferences": {
        "notifications": {
          "new_event_push": true,
          "event_resolved_push": true,
          "new_message_push": true
        },
        "theme": "system"
      },
      "last_login_at": "2023-10-27T14:20:00Z",
      "created_at": "2023-09-01T20:00:00Z"
    },
    "partner": null,
    "coupleInfo": null
  }
}
```

---

#### **2. `POST /api/couples/invitations` - åˆ›å»ºç»‘å®šé‚€è¯·**
**è¯·æ±‚ä½“**: (ç©º)
**å“åº”**:
```json
{
  "code": 200,
  "message": "Invitation created successfully.",
  "data": {
    "invite_code": "A8C3F9",
    "expires_at": "2023-10-28T14:55:00Z"
  }
}
```

---

#### **3. `POST /api/couples/accept-invitation` - æ¥å—ç»‘å®šé‚€è¯·**
**è¯·æ±‚ä½“**: `{ "invite_code": "A8C3F9" }`
**å“åº”**:
```json
{
  "code": 200,
  "message": "Couple bound successfully! Welcome to your trial period.",
  "data": {
    "access_status": "TRIAL",
    "currentUser": {
      "id": "f6g7h8i9-0010-4010-8010-1b2c3d4e5f6a",
      "openid": "openid-for-new-user-10",
      "nickname": "ç”¨æˆ·B",
      "avatar_url": "https://randomuser.me/api/portraits/women/10.jpg",
      "display_gender": "female",
      "bio": "æˆ‘ä»¬å¼€å§‹å§ï¼",
      "status": "active",
      "is_admin": false,
      "preferences": {
        "notifications": {
          "new_event_push": true,
          "event_resolved_push": true,
          "new_message_push": true
        },
        "theme": "system"
      },
      "last_login_at": "2023-10-27T15:00:00Z",
      "created_at": "2023-10-27T14:59:00Z"
    },
    "partner": {
      "id": "e5f6g7h8-0009-4009-8009-1a2b3c4d5e6f",
      "nickname": "å•èº«è´µæ—C",
      "avatar_url": "https://randomuser.me/api/portraits/lego/1.jpg",
      "display_gender": "male",
      "bio": "å¯»æ‰¾æˆ‘çš„å¦ä¸€åŠã€‚"
    },
    "coupleInfo": {
      "id": "d2e3f4g5-0005-4005-8005-zyxwutsrqpon",
      "anniversary_date": "2023-10-27",
      "trial_ends_at": "2023-11-27T15:00:00Z",
      "subscription_expires_at": null
    }
  }
}
```

---

#### **4. `GET /api/subscriptions/plans` - è·å–å¯è®¢é˜…çš„å¥—é¤**
**å“åº”**:
```json
{
  "code": 200,
  "message": "Subscription plans retrieved successfully.",
  "data": [
    {
      "id": "plan_monthly_25",
      "name": "æœˆåº¦ä¼šå‘˜",
      "description": "æŒ‰æœˆè®¢é˜…ï¼Œçµæ´»æ–¹ä¾¿ï¼Œéšæ—¶å–æ¶ˆ",
      "price": "25.00",
      "currency": "CNY",
      "duration_months": 1,
      "tags": []
    },
    {
      "id": "plan_yearly_249",
      "name": "å¹´åº¦ä¼šå‘˜",
      "description": "åŸä»·Â¥300ï¼Œç«‹çœÂ¥51ï¼Œç•…äº«å…¨å¹´ç”œèœœ",
      "price": "249.00",
      "currency": "CNY",
      "duration_months": 12,
      "tags": ["æœ€ä½³æ€§ä»·æ¯”", "ç«‹çœ17%"]
    }
  ]
}
```

---

#### **5. `POST /api/subscriptions` - åˆ›å»ºè®¢é˜…è®¢å•**
**è¯·æ±‚ä½“**: `{ "plan_id": "plan_yearly_249", "promo_code": "SWEETLOVE25" }`

**åœºæ™¯ 5.1ï¼šä¼˜æƒ ç æœ‰æ•ˆ**
```json
{
  "code": 200,
  "message": "Order created successfully. Please proceed to payment.",
  "data": {
    "order_id": "ord-uuid-01234567-89ab-cdef-0123-456789abcdef",
    "plan_name": "å¹´åº¦ä¼šå‘˜",
    "original_amount": "249.00",
    "discount_amount": "25.00",
    "final_amount": "224.00",
    "payment_gateway_payload": {
      "appId": "wx123456789abcde",
      "timeStamp": "1698415200",
      "nonceStr": "aRandomNonceStringForSecurity",
      "package": "prepay_id=wxprepayid123456789abcdefghijkl",
      "signType": "MD5",
      "paySign": "A_VERY_VERY_VERY_LONG_SIGNATURE_STRING_GENERATED_BY_BACKEND"
    }
  }
}
```

**åœºæ™¯ 5.2ï¼šä¼˜æƒ ç æ— æ•ˆ**
```json
{
  "code": 400,
  "message": "ä¼˜æƒ ç  'INVALIDCODE' æ— æ•ˆæˆ–å·²è¿‡æœŸã€‚",
  "data": null
}
```

---

#### **6. `GET /api/notifications` - è·å–é€šçŸ¥ä¸­å¿ƒåˆ—è¡¨**
**å“åº”**:
```json
{
  "code": 200,
  "message": "Notifications retrieved successfully.",
  "data": {
    "unread_count": 1,
    "notifications": [
      {
        "id": "noti-uuid-001-expiring",
        "type": "subscription_expiring_soon",
        "content": "æ‚¨çš„ä¼šå‘˜èµ„æ ¼å°†äº 2023å¹´11æœˆ15æ—¥ åˆ°æœŸï¼Œä¸ºé¿å…å½±å“ä½¿ç”¨ï¼Œè¯·åŠæ—¶ç»­è´¹ã€‚",
        "is_read": false,
        "related_resource_type": null,
        "related_resource_id": null,
        "created_at": "2023-11-08T10:00:00Z"
      },
      {
        "id": "noti-uuid-002-new-event",
        "type": "new_event_from_partner",
        "content": "æ‚¨çš„ä¼´ä¾£"å°æœˆ"åˆšåˆšè®°å½•äº†ä¸€ä»¶æ–°çš„ç”œèœœæ—¶åˆ»ï¼Œå¿«å»çœ‹çœ‹å§ï¼",
        "is_read": true,
        "related_resource_type": "event",
        "related_resource_id": "evt-uuid-002",
        "created_at": "2023-10-25T23:05:00Z"
      },
      {
        "id": "noti-uuid-003-activated",
        "type": "subscription_activated",
        "content": "æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼æ‚¨çš„å¹´åº¦ä¼šå‘˜å·²æˆåŠŸæ¿€æ´»ï¼Œæœ‰æ•ˆæœŸè‡³ 2024å¹´11æœˆ08æ—¥ã€‚",
        "is_read": true,
        "related_resource_type": null,
        "related_resource_id": null,
        "created_at": "2023-11-08T12:30:00Z"
      }
    ]
  }
}
```

---
---

### **ç¬¬äºŒéƒ¨åˆ†ï¼šæ ¸å¿ƒå†…å®¹ API (å¸–å­ä¿¡æ¯)**

#### **7. `GET /api/events?status=unresolved` - è·å–é¦–é¡µå¸–å­åˆ—è¡¨ (æœªè§£å†³)**
**å“åº”**:
```json
{
  "code": 200,
  "message": "Unresolved events retrieved successfully.",
  "data": [
    {
      "id": "evt-uuid-001",
      "couple_id": "c1p2l3e4-0002-4002-8002-654321fedcba",
      "type": "brainstorming",
      "description": "è¯´å¥½çš„ä¸€èµ·çœ‹ç”µå½±ï¼Œç»“æœå¼€åœºååˆ†é’Ÿå°±ç¡ç€äº†ï¼Œå‘¼å™œæ‰“å¾—æ¯”ç”µå½±å£°è¿˜å“ï¼",
      "status": "unresolved",
      "solution": null,
      "event_date": "2023-10-26",
      "images": [],
      "location_text": "å®¶é‡Œçš„æ²™å‘ä¸Š",
      "author": {
        "id": "b2c3d4e5-0003-4003-8003-112233445566",
        "nickname": "ä»˜è´¹ç”¨æˆ·A",
        "display_gender": "female"
      },
      "mood_tag": {
        "id": 1,
        "name": "ç”Ÿæ°”",
        "emoji_icon": "ğŸ˜ "
      },
      "reactions": [],
      "resolved_at": null,
      "created_at": "2023-10-26T22:30:00Z",
      "updated_at": "2023-10-26T22:30:00Z"
    },
    {
      "id": "evt-uuid-002",
      "couple_id": "c1p2l3e4-0002-4002-8002-654321fedcba",
      "type": "sweet_moment",
      "description": "ä»Šå¤©åŠ ç­åˆ°å¾ˆæ™šï¼Œå›å®¶å‘ç°ä»–ç»™æˆ‘ç‚–äº†æ±¤ï¼Œè¿˜å‡†å¤‡äº†å°æƒŠå–œï¼Œå¤ªæ„ŸåŠ¨äº†ã€‚",
      "status": "unresolved",
      "solution": null,
      "event_date": "2023-10-25",
      "images": [
        "https://images.pexels.com/photos/262959/pexels-photo-262959.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"
      ],
      "location_text": null,
      "author": {
        "id": "b2c3d4e5-0003-4003-8003-112233445566",
        "nickname": "ä»˜è´¹ç”¨æˆ·A",
        "display_gender": "female"
      },
      "mood_tag": {
        "id": 5,
        "name": "æ„ŸåŠ¨",
        "emoji_icon": "ğŸ¥°"
      },
      "reactions": [
        { "author_id": "b2c3d4e5-0004-4004-8004-aabbccddeeff", "emoji": "â¤ï¸" }
      ],
      "resolved_at": null,
      "created_at": "2023-10-25T23:00:00Z",
      "updated_at": "2023-10-25T23:00:00Z"
    },
    {
      "id": "evt-uuid-003",
      "couple_id": "c1p2l3e4-0002-4002-8002-654321fedcba",
      "type": "brainstorming",
      "description": "åˆæŠŠè„è¢œå­æ‰”åœ¨äº†æ²™å‘ä¸Šï¼Œè¯´äº†ä¸€ç™¾éäº†ï¼æ¯æ¬¡éƒ½å¾—æˆ‘è·Ÿåœ¨åé¢æ”¶æ‹¾ã€‚",
      "status": "unresolved",
      "solution": null,
      "event_date": "2023-10-24",
      "images": [],
      "location_text": null,
      "author": {
        "id": "b2c3d4e5-0004-4004-8004-aabbccddeeff",
        "nickname": "ä»˜è´¹ç”¨æˆ·B",
        "display_gender": "male"
      },
      "mood_tag": {
        "id": 3,
        "name": "æ— è¯­",
        "emoji_icon": "ğŸ˜‘"
      },
      "reactions": [],
      "resolved_at": null,
      "created_at": "2023-10-24T08:15:00Z",
      "updated_at": "2023-10-24T08:15:00Z"
    }
  ]
}
```

---

#### **8. `GET /api/events?status=resolved` - è·å–å·²è§£å†³å¸–å­åˆ—è¡¨ (ç”œèœœæ¡£æ¡ˆ)**
**å“åº”**:
```json
{
  "code": 200,
  "message": "Resolved events retrieved successfully.",
  "data": [
    {
      "id": "evt-uuid-004-resolved",
      "couple_id": "c1p2l3e4-0002-4002-8002-654321fedcba",
      "type": "brainstorming",
      "description": "çºªå¿µæ—¥å±…ç„¶å¿˜è®°äº†ï¼ä¸€ä¸ªç¤¼ç‰©éƒ½æ²¡æœ‰ï¼Œæ°”æ­»æˆ‘äº†ã€‚",
      "status": "resolved",
      "solution": "ç½šä»–è¯·æˆ‘åƒä¸€ä¸ªæ˜ŸæœŸçš„å¤§é¤ï¼Œå¹¶ä¸”è¡¥é€äº†è¶…æ¼‚äº®çš„é¡¹é“¾ï¼Œè¿™æ¬¡å°±å‹‰å¼ºåŸè°…ä»–äº†ï¼ä»¥åå†å¿˜å°±æ²¡æœ‰è¿™ä¹ˆç®€å•äº†å“¼ã€‚",
      "event_date": "2023-09-09",
      "images": [
        "https://images.pexels.com/photos/1454157/pexels-photo-1454157.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"
      ],
      "location_text": null,
      "author": {
        "id": "b2c3d4e5-0003-4003-8003-112233445566",
        "nickname": "ä»˜è´¹ç”¨æˆ·A",
        "display_gender": "female"
      },
      "mood_tag": {
        "id": 2,
        "name": "å§”å±ˆ",
        "emoji_icon": "ğŸ¥º"
      },
      "reactions": [],
      "resolved_at": "2023-09-10T18:00:00Z",
      "created_at": "2023-09-09T10:00:00Z",
      "updated_at": "2023-09-10T18:00:00Z"
    }
  ]
}
```

---

#### **9. `GET /api/events/{eventId}` - è·å–å•ä¸ªå¸–å­è¯¦æƒ…**

**åœºæ™¯ 9.1ï¼šè·å–ä¸€ä¸ªæœªè§£å†³çš„å¸–å­è¯¦æƒ…**
```json
{
  "code": 200,
  "message": "Event details retrieved successfully.",
  "data": {
    "id": "evt-uuid-001",
    "couple_id": "c1p2l3e4-0002-4002-8002-654321fedcba",
    "type": "brainstorming",
    "description": "è¯´å¥½çš„ä¸€èµ·çœ‹ç”µå½±ï¼Œç»“æœå¼€åœºååˆ†é’Ÿå°±ç¡ç€äº†ï¼Œå‘¼å™œæ‰“å¾—æ¯”ç”µå½±å£°è¿˜å“ï¼",
    "status": "unresolved",
    "solution": null,
    "event_date": "2023-10-26",
    "images": [],
    "location_text": "å®¶é‡Œçš„æ²™å‘ä¸Š",
    "author": {
      "id": "b2c3d4e5-0003-4003-8003-112233445566",
      "nickname": "ä»˜è´¹ç”¨æˆ·A",
      "display_gender": "female"
    },
    "mood_tag": {
      "id": 1,
      "name": "ç”Ÿæ°”",
      "emoji_icon": "ğŸ˜ "
    },
    "reactions": [],
    "resolved_at": null,
    "created_at": "2023-10-26T22:30:00Z",
    "updated_at": "2023-10-26T22:30:00Z"
  }
}
```
**åœºæ™¯ 9.2ï¼šè·å–ä¸€ä¸ªå·²è§£å†³çš„å¸–å­è¯¦æƒ…**
```json
{
  "code": 200,
  "message": "Event details retrieved successfully.",
  "data": {
    "id": "evt-uuid-004-resolved",
    "couple_id": "c1p2l3e4-0002-4002-8002-654321fedcba",
    "type": "brainstorming",
    "description": "çºªå¿µæ—¥å±…ç„¶å¿˜è®°äº†ï¼ä¸€ä¸ªç¤¼ç‰©éƒ½æ²¡æœ‰ï¼Œæ°”æ­»æˆ‘äº†ã€‚",
    "status": "resolved",
    "solution": "ç½šä»–è¯·æˆ‘åƒä¸€ä¸ªæ˜ŸæœŸçš„å¤§é¤ï¼Œå¹¶ä¸”è¡¥é€äº†è¶…æ¼‚äº®çš„é¡¹é“¾ï¼Œè¿™æ¬¡å°±å‹‰å¼ºåŸè°…ä»–äº†ï¼ä»¥åå†å¿˜å°±æ²¡æœ‰è¿™ä¹ˆç®€å•äº†å“¼ã€‚",
    "event_date": "2023-09-09",
    "images": [
      "https://images.pexels.com/photos/1454157/pexels-photo-1454157.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"
    ],
    "location_text": null,
    "author": {
      "id": "b2c3d4e5-0003-4003-8003-112233445566",
      "nickname": "ä»˜è´¹ç”¨æˆ·A",
      "display_gender": "female"
    },
    "mood_tag": {
      "id": 2,
      "name": "å§”å±ˆ",
      "emoji_icon": "ğŸ¥º"
    },
    "reactions": [],
    "resolved_at": "2023-09-10T18:00:00Z",
    "created_at": "2023-09-09T10:00:00Z",
    "updated_at": "2023-09-10T18:00:00Z"
  }
}
```

---

#### **10. `GET /api/mood-tags` - è·å–æ‰€æœ‰å¯ç”¨çš„æƒ…ç»ªæ ‡ç­¾**
**å“åº”**:
```json
{
  "code": 200,
  "message": "Mood tags retrieved successfully.",
  "data": [
    { "id": 1, "name": "ç”Ÿæ°”", "emoji_icon": "ğŸ˜ ", "category": "negative", "impact_on_connection_score": -5, "score": 2 },
    { "id": 2, "name": "å§”å±ˆ", "emoji_icon": "ğŸ¥º", "category": "negative", "impact_on_connection_score": -3, "score": 3 },
    { "id": 3, "name": "æ— è¯­", "emoji_icon": "ğŸ˜‘", "category": "negative", "impact_on_connection_score": -2, "score": 4 },
    { "id": 4, "name": "å¹³å¸¸", "emoji_icon": "ğŸ˜", "category": "neutral", "impact_on_connection_score": 0, "score": 6 },
    { "id": 5, "name": "æ„ŸåŠ¨", "emoji_icon": "ğŸ¥°", "category": "positive", "impact_on_connection_score": 5, "score": 9 },
    { "id": 6, "name": "å¼€å¿ƒ", "emoji_icon": "ğŸ˜„", "category": "positive", "impact_on_connection_score": 3, "score": 8 },
    { "id": 7, "name": "æƒŠå–œ", "emoji_icon": "ğŸ˜®", "category": "positive", "impact_on_connection_score": 4, "score": 9 }
  ]
}
```

---

#### **11. `GET /api/sweet-messages` - è·å–ç”œèœœç•™è¨€æ¿åˆ—è¡¨**
**å“åº”**:
```json
{
  "code": 200,
  "message": "Sweet messages retrieved successfully.",
  "data": [
    {
      "id": "msg-uuid-001-pinned",
      "message": "äº²çˆ±çš„ï¼Œä»Šå¤©æ˜¯æˆ‘ä»¬åœ¨ä¸€èµ·çš„ç¬¬520å¤©ï¼Œæ°¸è¿œçˆ±ä½ å“Ÿï¼â¤ï¸",
      "nickname": "ä½ çš„å°å®è´",
      "is_pinned": true,
      "created_at": "2023-10-20T09:00:00Z",
      "author": { "id": "b2c3d4e5-0003-4003-8003-112233445566", "display_gender": "female" }
    },
    {
      "id": "msg-uuid-002",
      "message": "æ”¶åˆ°ï¼ä¹Ÿçˆ±ä½ ï¼Œæˆ‘çš„è¶…äººï¼æœªæ¥çš„æ¯ä¸€å¤©éƒ½è¯·å¤šæŒ‡æ•™ã€‚",
      "nickname": "ä½ çš„ä¸“å±éª‘å£«",
      "is_pinned": false,
      "created_at": "2023-10-20T09:05:00Z",
      "author": { "id": "b2c3d4e5-0004-4004-8004-aabbccddeeff", "display_gender": "male" }
    }
  ]
}
```

---
---

### **ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ ¸å¿ƒäº¤äº’ã€åˆ†æä¸ç”¨æˆ·æ“ä½œ API**

#### **12. `POST /api/events` - æ–°å»ºå¸–å­ï¼ˆäº‹ä»¶ï¼‰**
**ç”¨é€”**: ç”¨æˆ·å¡«å†™å®Œå¸–å­å†…å®¹å¹¶ç‚¹å‡»"å‘å¸ƒ"åï¼Œå‰ç«¯è°ƒç”¨æ­¤æ¥å£ã€‚

**è¯·æ±‚ä½“ (Request Body)**:
```json
{
  "type": "brainstorming",
  "description": "åˆç©æ¸¸æˆåˆ°åŠå¤œä¸€ç‚¹æ‰ç¡ï¼Œè¯´å¥½äº†è¦æ—©ç¡çš„å‘¢ï¼",
  "event_date": "2023-10-28",
  "mood_tag_id": 1,
  "images": [],
  "location_text": "å§å®¤"
}
```

**å“åº” (Response)**: (æˆåŠŸåï¼Œåç«¯è¿”å›å®Œæ•´çš„æ–°å»ºå¸–å­å¯¹è±¡)
```json
{
  "code": 201,
  "message": "Event created successfully.",
  "data": {
    "id": "evt-uuid-newly-created-005",
    "couple_id": "c1p2l3e4-0002-4002-8002-654321fedcba",
    "type": "brainstorming",
    "description": "åˆç©æ¸¸æˆåˆ°åŠå¤œä¸€ç‚¹æ‰ç¡ï¼Œè¯´å¥½äº†è¦æ—©ç¡çš„å‘¢ï¼",
    "status": "unresolved",
    "solution": null,
    "event_date": "2023-10-28",
    "images": [],
    "location_text": "å§å®¤",
    "author": {
      "id": "b2c3d4e5-0003-4003-8003-112233445566",
      "nickname": "ä»˜è´¹ç”¨æˆ·A",
      "display_gender": "female"
    },
    "mood_tag": {
      "id": 1,
      "name": "ç”Ÿæ°”",
      "emoji_icon": "ğŸ˜ "
    },
    "reactions": [],
    "resolved_at": null,
    "created_at": "2023-10-28T09:30:00Z",
    "updated_at": "2023-10-28T09:30:00Z"
  }
}
```

---

#### **13. `PUT /api/events/{eventId}` - æ›´æ–°å¸–å­ï¼ˆç‰¹åˆ«æ˜¯"è§£å†³"æ“ä½œï¼‰**
**ç”¨é€”**: åœ¨å¸–å­è¯¦æƒ…é¡µï¼Œç”¨æˆ·å¡«å†™"è§£å†³åŠæ³•"å¹¶ç‚¹å‡»"å·²è§£å†³"åï¼Œå‰ç«¯è°ƒç”¨æ­¤æ¥å£ã€‚

**è¯·æ±‚ä½“ (Request Body)**:
```json
{
  "solution": "æ²Ÿé€šäº†ä¸€ä¸‹ï¼Œä»–ä¿è¯ä¹‹ååä¸€ç‚¹åŠä¹‹å‰ä¸€å®šç¡è§‰ï¼Œè¿˜ç­”åº”æ‰¿åŒ…ä¸€ä¸ªæ˜ŸæœŸçš„å®¶åŠ¡ä½œä¸ºè¡¥å¿ã€‚",
  "status": "resolved"
}
```

**å“åº” (Response)**: (æˆåŠŸåï¼Œåç«¯è¿”å›è¢«å®Œæ•´æ›´æ–°åçš„å¸–å­å¯¹è±¡)
```json
{
  "code": 200,
  "message": "Event updated successfully.",
  "data": {
    "id": "evt-uuid-003",
    "couple_id": "c1p2l3e4-0002-4002-8002-654321fedcba",
    "type": "brainstorming",
    "description": "åˆæŠŠè„è¢œå­æ‰”åœ¨äº†æ²™å‘ä¸Šï¼Œè¯´äº†ä¸€ç™¾éäº†ï¼æ¯æ¬¡éƒ½å¾—æˆ‘è·Ÿåœ¨åé¢æ”¶æ‹¾ã€‚",
    "status": "resolved",
    "solution": "æ²Ÿé€šäº†ä¸€ä¸‹ï¼Œä»–ä¿è¯ä¹‹ååä¸€ç‚¹åŠä¹‹å‰ä¸€å®šç¡è§‰ï¼Œè¿˜ç­”åº”æ‰¿åŒ…ä¸€ä¸ªæ˜ŸæœŸçš„å®¶åŠ¡ä½œä¸ºè¡¥å¿ã€‚",
    "event_date": "2023-10-24",
    "images": [],
    "location_text": null,
    "author": {
      "id": "b2c3d4e5-0004-4004-8004-aabbccddeeff",
      "nickname": "ä»˜è´¹ç”¨æˆ·B",
      "display_gender": "male"
    },
    "mood_tag": {
      "id": 3,
      "name": "æ— è¯­",
      "emoji_icon": "ğŸ˜‘"
    },
    "reactions": [],
    "resolved_at": "2023-10-28T10:00:00Z",
    "created_at": "2023-10-24T08:15:00Z",
    "updated_at": "2023-10-28T10:00:00Z"
  }
}
```

---

#### **14. `DELETE /api/events/{eventId}` - åˆ é™¤å¸–å­ï¼ˆé€»è¾‘åˆ é™¤ï¼‰**
**ç”¨é€”**: ç”¨æˆ·åœ¨è‡ªå·±çš„å¸–å­ä¸Šï¼Œç‚¹å‡»åˆ é™¤æŒ‰é’®ã€‚

**å“åº” (Response)**:
```json
{
  "code": 200,
  "message": "Event successfully marked as deleted.",
  "data": {
    "id": "evt-uuid-003"
  }
}
```

---

#### **15. `POST /api/sweet-messages` - æ–°å»ºç”œèœœç•™è¨€**
**ç”¨é€”**: ç”¨æˆ·åœ¨"ç”œèœœç•™è¨€æ¿"é¡µé¢å‘å¸ƒæ–°çš„ç•™è¨€ã€‚

**è¯·æ±‚ä½“ (Request Body)**:
```json
{
  "message": "ä»Šå¤©ä¹Ÿæ˜¯è¶…çˆ±ä½ çš„ä¸€å¤©ï¼",
  "nickname": "ä½ çš„å°å¤ªé˜³"
}
```

**å“åº” (Response)**: (æˆåŠŸåï¼Œåç«¯è¿”å›å®Œæ•´çš„æ–°å»ºç•™è¨€å¯¹è±¡)
```json
{
  "code": 201,
  "message": "Sweet message posted successfully.",
  "data": {
    "id": "msg-uuid-newly-created-003",
    "message": "ä»Šå¤©ä¹Ÿæ˜¯è¶…çˆ±ä½ çš„ä¸€å¤©ï¼",
    "nickname": "ä½ çš„å°å¤ªé˜³",
    "is_pinned": false,
    "created_at": "2023-10-28T11:00:00Z",
    "author": {
      "id": "b2c3d4e5-0004-4004-8004-aabbccddeeff",
      "display_gender": "male"
    }
  }
}
```

---

#### **16. `POST /api/couples/unbind` - è§£ç»‘æƒ…ä¾£å…³ç³»**
**ç”¨é€”**: ç”¨æˆ·åœ¨è®¾ç½®ä¸­ç¡®è®¤è§£ç»‘ã€‚

**å“åº” (Response)**: (è§£ç»‘æˆåŠŸåï¼Œè¿”å›ä¸€ä¸ªå…¨æ–°çš„ `/api/me` å“åº”ï¼ŒçŠ¶æ€å˜ä¸º `UNBOUND`)
```json
{
  "code": 200,
  "message": "Couple unbound successfully.",
  "data": {
    "access_status": "UNBOUND",
    "currentUser": {
      "id": "b2c3d4e5-0003-4003-8003-112233445566",
      "openid": "openid-for-paid-user-03",
      "nickname": "ä»˜è´¹ç”¨æˆ·A",
      "avatar_url": "https://randomuser.me/api/portraits/women/68.jpg",
      "display_gender": "female",
      "bio": "äº«å—æ¯ä¸€åˆ»çš„ç”œèœœè®°å½•ã€‚",
      "status": "active",
      "is_admin": false,
      "preferences": {
        "notifications": {
          "new_event_push": true,
          "event_resolved_push": true,
          "new_message_push": true
        },
        "theme": "light"
      },
      "last_login_at": "2023-10-28T11:30:00Z",
      "created_at": "2022-08-01T11:00:00Z"
    },
    "partner": null,
    "coupleInfo": null
  }
}
```

---

#### **17. `GET /api/analytics/mood` - è·å–å¿ƒæƒ…åˆ†ææ•°æ®**
**ç”¨é€”**: ä¸º"å¿ƒæƒ…"é¡µé¢çš„å›¾è¡¨æä¾›æ•°æ®ã€‚

**åœºæ™¯ 17.1: `?period=weekly` (å‘¨åˆ†æ)**
```json
{
  "code": 200,
  "message": "Weekly mood analytics retrieved successfully.",
  "data": {
    "period_range": "2023-10-23 - 2023-10-29",
    "trend": {
      "labels": ["å‘¨ä¸€", "å‘¨äºŒ", "å‘¨ä¸‰", "å‘¨å››", "å‘¨äº”", "å‘¨å…­", "å‘¨æ—¥"],
      "datasets": [
        { "label": "ä»˜è´¹ç”¨æˆ·A", "gender": "female", "data": [7, 8, 9, 8, 6, 10, 9] },
        { "label": "ä»˜è´¹ç”¨æˆ·B", "gender": "male", "data": [8, 8, 7, 6, 7, 9, 8] }
      ]
    },
    "distribution": {
      "labels": ["å¼€å¿ƒ", "æ„ŸåŠ¨", "ç”Ÿæ°”", "æ— è¯­"],
      "datasets": [{ "data": [4, 2, 1, 1], "backgroundColor": ["#FFDDC1", "#FFABAB", "#A7C7E7", "#C1E1C1"] }]
    }
  }
}
```

**åœºæ™¯ 17.2: `?period=monthly` (æœˆåˆ†æ)**
```json
{
  "code": 200,
  "message": "Monthly mood analytics retrieved successfully.",
  "data": {
    "period_range": "2023-10-01 - 2023-10-31",
    "trend": {
      "labels": ["10.01", "10.02", "10.03", "10.04", "10.05", "...", "10.31"],
      "datasets": [
        { "label": "ä»˜è´¹ç”¨æˆ·A", "gender": "female", "data": [8,9,8,7,7,9,10,8,7,6,8,9,9,10,8,7,8,9,6,7,8,9,10,9,8,7,6,9,10,8,8] },
        { "label": "ä»˜è´¹ç”¨æˆ·B", "gender": "male", "data": [7,8,8,9,9,10,8,7,8,9,9,10,8,7,6,7,8,9,8,9,10,8,7,8,9,8,9,10,8,7,7] }
      ]
    },
    "distribution": {
      "labels": ["å¼€å¿ƒ", "æ„ŸåŠ¨", "ç”Ÿæ°”", "å§”å±ˆ", "æ— è¯­", "å¹³å¸¸", "æƒŠå–œ"],
      "datasets": [{ "data": [25, 18, 10, 5, 8, 12, 7], "backgroundColor": ["#FFDDC1", "#FFABAB", "#A7C7E7", "#B9F2D4", "#C1E1C1", "#FDFD96", "#FFDFD3"] }]
    }
  }
}
```

---

#### **18. `PUT /api/me` - æ›´æ–°ç”¨æˆ·ä¸ªäººèµ„æ–™**
**ç”¨é€”**: ç”¨æˆ·åœ¨"æˆ‘çš„"é¡µé¢ä¿®æ”¹è‡ªå·±çš„æ˜µç§°ã€å¤´åƒã€ç®€ä»‹ç­‰ä¿¡æ¯ã€‚

**è¯·æ±‚ä½“ (Request Body)**:
```json
{
  "nickname": "æ”¹ä¸ªæ–°æ˜µç§°",
  "bio": "æ–°çš„ç®€ä»‹ï¼Œæ–°çš„å¼€å§‹ï¼"
}
```

**å“åº” (Response)**: (æˆåŠŸåï¼Œåç«¯è¿”å›æ›´æ–°åçš„ `currentUser` å¯¹è±¡)
```json
{
  "code": 200,
  "message": "User profile updated successfully.",
  "data": {
    "currentUser": {
      "id": "e5f6g7h8-0009-4009-8009-1a2b3c4d5e6f",
      "openid": "openid-for-single-user-09",
      "nickname": "æ”¹ä¸ªæ–°æ˜µç§°",
      "avatar_url": "https://randomuser.me/api/portraits/lego/1.jpg",
      "display_gender": "male",
      "bio": "æ–°çš„ç®€ä»‹ï¼Œæ–°çš„å¼€å§‹ï¼",
      "status": "active",
      "is_admin": false,
      "preferences": {
        "notifications": {
          "new_event_push": true,
          "event_resolved_push": true,
          "new_message_push": true
        },
        "theme": "system"
      },
      "last_login_at": "2023-10-27T14:20:00Z",
      "created_at": "2023-09-01T20:00:00Z"
    }
  }
}
```